{
  "id": "basic-003",
  "name": "List and describe all ROSA clusters",
  "description": "Policy that grants a user the ability to list and describe all ROSA clusters. Minimum required for rosa CLI configuration.",
  "source": "https://docs.openshift.com/rosa/rosa_architecture/rosa-sts-about-iam-resources.html",
  "policy": {
    "version": "v0",
    "statements": [
      {
        "effect": "Allow",
        "actions": [
          "rosa:DescribeCluster",
          "rosa:ListClusters"
        ],
        "resources": [
          "*"
        ]
      }
    ]
  },
  "testCases": [
    {
      "description": "User can list clusters",
      "request": {
        "action": "rosa:ListClusters",
        "resource": "*"
      },
      "expectedResult": "ALLOW"
    },
    {
      "description": "User can describe any cluster",
      "request": {
        "action": "rosa:DescribeCluster",
        "resource": "arn:aws:rosa:us-west-2:111122223333:cluster/any-cluster"
      },
      "expectedResult": "ALLOW"
    },
    {
      "description": "User cannot create clusters",
      "request": {
        "action": "rosa:CreateCluster",
        "resource": "arn:aws:rosa:us-west-2:111122223333:cluster/new-cluster"
      },
      "expectedResult": "DENY"
    },
    {
      "description": "User cannot delete clusters",
      "request": {
        "action": "rosa:DeleteCluster",
        "resource": "arn:aws:rosa:us-west-2:111122223333:cluster/my-cluster"
      },
      "expectedResult": "DENY"
    }
  ],
  "notes": "This is the minimum policy for developers who need kubectl access but should not modify cluster infrastructure."
}
